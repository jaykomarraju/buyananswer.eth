var e=require("react"),n=require("react-dom"),t=require("raf"),o=require("tiny-warning");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var n=Object.create(null);return e&&Object.keys(e).forEach(function(t){if("default"!==t){var o=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,o.get?o:{enumerable:!0,get:function(){return e[t]}})}}),n.default=e,n}var l=i(e),a=r(t),u=r(o);function c(){return c=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},c.apply(this,arguments)}function d(e,n){if(null==e)return{};var t,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n.indexOf(t=i[o])>=0||(r[t]=e[t]);return r}var f=function(){};function s(e){return null!=e&&e.current?e.current.scrollHeight:(u.default(!0,"useCollapse was not able to find a ref to the collapse element via `getCollapseProps`. Ensure that the element exposes its `ref` prop. If it exposes the ref prop under a different name (like `innerRef`), use the `refKey` property to change it. Example:\n\n{...getCollapseProps({refKey: 'innerRef'})}"),"auto")}var p=function(){var e=arguments;return function(){var n=arguments;return[].slice.call(e).forEach(function(e){return e&&e.apply(void 0,[].slice.call(n))})}};function h(e,n){if(null!=e)if("function"==typeof e)e(n);else try{e.current=n}catch(t){throw new Error('Cannot assign value "'+n+'" to ref "'+e+'"')}}var v="undefined"!=typeof window?e.useLayoutEffect:e.useEffect,g=!1,y=0,E=function(){return++y},b=l.useId,x=["duration","easing","collapseStyles","expandStyles","onExpandStart","onExpandEnd","onCollapseStart","onCollapseEnd","isExpanded","defaultExpanded","hasDisabledAnimation"],m=["disabled","onClick"],C=["style","onTransitionEnd","refKey"];module.exports=function(t){var o,r,i=void 0===t?{}:t,l=i.duration,y=i.easing,w=void 0===y?"cubic-bezier(0.4, 0, 0.2, 1)":y,S=i.collapseStyles,k=void 0===S?{}:S,O=i.expandStyles,j=void 0===O?{}:O,P=i.onExpandStart,D=void 0===P?f:P,T=i.onExpandEnd,q=void 0===T?f:T,R=i.onCollapseStart,K=void 0===R?f:R,I=i.onCollapseEnd,M=void 0===I?f:I,N=i.isExpanded,_=i.defaultExpanded,z=void 0!==_&&_,A=i.hasDisabledAnimation,H=void 0!==A&&A,B=d(i,x),L=function(n,t){var o=e.useState(t||!1),r=o[0],i=o[1],l=e.useRef(null!=n),a=l.current?n:r,c=e.useCallback(function(e){l.current||i(e)},[]);return e.useEffect(function(){u.default(!(l.current&&null==n),"useCollapse is changing from controlled to uncontrolled. useCollapse should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled collapse for the lifetime of the component. Check the `isExpanded` prop."),u.default(!(!l.current&&null!=n),"useCollapse is changing from uncontrolled to controlled. useCollapse should not switch from uncontrolled to controlled (or vice versa). Decide between using a controlled or uncontrolled collapse for the lifetime of the component. Check the `isExpanded` prop.")},[n]),[a,c]}(N,z),V=L[0],F=L[1],G=void 0!==b?b():function(n){var t=g?E():null,o=e.useState(t),r=o[0],i=o[1];return v(function(){null===r&&i(E())},[]),e.useEffect(function(){!1===g&&(g=!0)},[]),null!=r?String(r):void 0}(),J=e.useRef(null);o=J,r=function(e){},"production"!==process.env.NODE_ENV&&(r=function(e){if(null!=e&&e.current){var n=window.getComputedStyle(e.current),t=n.paddingTop,o=n.paddingBottom;u.default(!(t&&"0px"!==t||o&&"0px"!==o),"react-collapsed: Padding applied to the collapse element will cause the animation to break and not perform as expected. To fix, apply equivalent padding to the direct descendent of the collapse element.")}}),e.useEffect(function(){r(o)},[o]);var Q,U,W,X=(B.collapsedHeight||0)+"px",Y={display:"0px"===X?"none":"block",height:X,overflow:"hidden"},Z=e.useState(V?{}:Y),$=Z[0],ee=Z[1],ne=function(e){n.flushSync(function(){ee(e)})},te=function(e){ne(function(n){return c({},n,e)})};function oe(e){if(H)return{};var n=l||function(e){if(!e||"string"==typeof e)return 0;var n=e/36;return Math.round(10*(4+15*Math.pow(n,.25)+n/5))}(e);return{transition:"height "+n+"ms "+w}}Q=function(){a.default(V?function(){D(),te(c({},j,{willChange:"height",display:"block",overflow:"hidden"})),a.default(function(){var e=s(J);te(c({},oe(e),{height:e}))})}:function(){K();var e=s(J);te(c({},k,oe(e),{willChange:"height",height:e})),a.default(function(){te({height:X,overflow:"hidden"})})})},U=[V,X],W=e.useRef(!0),e.useEffect(function(){if(!W.current)return Q();W.current=!1},U);var re=function(e){if(e.target===J.current&&"height"===e.propertyName)if(V){var n=s(J);n===$.height?ne({}):te({height:n}),q()}else $.height===X&&(ne(Y),M())};return{getToggleProps:function(e){var n=void 0===e?{}:e,t=n.disabled,o=void 0!==t&&t,r=n.onClick,i=void 0===r?f:r,l=d(n,m);return c({type:"button",role:"button",id:"react-collapsed-toggle-"+G,"aria-controls":"react-collapsed-panel-"+G,"aria-expanded":V,tabIndex:0,disabled:o},l,{onClick:o?f:p(i,function(){return F(function(e){return!e})})})},getCollapseProps:function(e){var n,t=void 0===e?{}:e,o=t.style,r=void 0===o?{}:o,i=t.onTransitionEnd,l=void 0===i?f:i,a=t.refKey,u=void 0===a?"ref":a,s=d(t,C);return c({id:"react-collapsed-panel-"+G,"aria-hidden":!V},s,((n={})[u]=function(){var e=[].slice.call(arguments);return e.every(function(e){return null==e})?null:function(n){e.forEach(function(e){h(e,n)})}}(J,s[u]),n.onTransitionEnd=p(re,l),n.style=c({boxSizing:"border-box"},r,$),n))},isExpanded:V,setExpanded:F}};
//# sourceMappingURL=react-collapsed.js.map
